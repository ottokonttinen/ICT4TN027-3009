# h2 Totally Legit Sertificate

###### x) Lue ja tiivistä. (Tässä x-alakohdassa ei tarvitse tehdä testejä tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelmä riittää. Tiivistämiseen riittää muutama ranskalainen viiva.)<br>• PortSwigger: [SQL injection](https://portswigger.net/web-security/sql-injection)<br>• PortSwigger: [Cross-site scripting](https://portswigger.net/web-security/cross-site-scripting)

SQL-injektio on haavoittuvuus, joka voi esiintyä verkkosovelluksissa, joissa käyttäjän syöttämät tiedot välitetään suoraan SQL-kyselyyn ilman asianmukaista tarkistusta tai puhdistusta.

Hyökkääjä voi hyödyntää tätä haavoittuvuutta injektoimalla haitallista SQL-koodia sovellukseen, mikä voi johtaa tietokantahyökkäyksiin, tietojen vuotamiseen, tietojen väärentämiseen tai jopa koko järjestelmän kompromointiin.

Erilaiset injektiotyyppejä ovat: UNION-hyökkäykset, aikapohjaiset hyökkäykset ja tiedonpääsyinjektiot. 

SQL-injektioilta voidaan suojautua käyttämällä valmisteltuja lausekkeita (prepared statements) ja parametroituja kyselyitä (parameterized queries) sekä muita suojaustoimenpiteitä, kuten asianmukaisen käyttöoikeushallinnan toteuttamista ja tietokantasuodattimien käyttöä.

Cross-site scripting on haavoittuvuus, jossa hyökkääjä voi upottaa haitallista skriptikoodia verkkosivustolle, joka suoritetaan käyttäjän selaimessa. Tämä voi tapahtua esimerkiksi käyttäjän syöttäessä lomakkeeseen tai kommentointikenttään haitallista koodia, joka tallentuu sivuston tietokantaan tai heijastuu takaisin käyttäjän selaimelle.

XSS-hyökkäys voi mahdollistaa hyökkääjän suorittaa koodia käyttäjän selaimessa ja varastaa esimerkiksi käyttäjän evästeitä, salasanoja tai muita arkaluonteisia tietoja. Hyökkääjä voi myös ohjata käyttäjää haitallisille verkkosivustoille tai tehdä muita haitallisia toimintoja käyttäjän selaimella.

XSS-tyypit: Tallennettu (stored) XSS, heijastunut (reflected) XSS ja DOM-pohjainen (DOM-based) XSS. 

Havaitseminen ja suojaus: Oppaassa käydään läpi menetelmiä XSS-haavoittuvuuksien havaitsemiseksi, kuten manuaalinen tarkastelu, automaattiset työkalut ja testimenetelmät. Lisäksi annetaan suosituksia suojautumisesta XSS-hyökkäyksiltä, kuten syötteiden puhdistus ja validointi, turvallisten ohjelmointikäytäntöjen noudattaminen sekä suojaavien HTTP-päähderajoitusten käyttäminen.

###### a) ZAP! Asenna ZAP välimiesproxy ja näytä, että pystyt sieppaamaan liikennettä selaimesta.

Asensin Cross Platform Package -paketin Kali-virtuaalikoneelle https://www.zaproxy.org/download/. Purin pakatun tiedoston ladattujen kansiosta ja ajoin terminaalissa './zap.sh' skriptin, joka asentaa ohjelman.  

![kuva](https://user-images.githubusercontent.com/103586741/231192072-ec507835-5e1c-4a67-ba69-2381647bd31b.png)


###### b) Totally Legit Sertificate. Asenna ZAP:n generoima CA-sertifikaatti selaimeen ja osoita testillä, että pystyt sieppaamaan HTTPS-salakirjoitettua liikennettä.

###### c) Intercept. Pysäytä hakupyyntö, muokkaa sitä ja päästä se palvelimelle.

###### d) Vuohi. [Asenna WebGoat](https://terokarvinen.com/2020/install-webgoat-web-pentest-practice-target/) ja kokeile, että pääset kirjautumaan sisään.

###### e) Vauvavuohi. Ratkaise WebGoatista tehtävät "HTTP Basics" ja "Developer tools". Katso vinkit alta.

###### f) SELECT * FROM student. Ratkaise SQLZoo:sta: 0 SELECT basics, 2 SELECT from World kohdat 1-5.

###### g) Ratkaise WebGoatista*:
+ A1 Injection (intro)
+ A2 Broken authentication:
    + Authentication bypasses: 2 2FA 
    + Password Reset
+ A3 Sensitive data exposure
    + Insecure Login: 2 Let's try
+ A7 Cross Site Scripting (XSS): Cross site scripting
    + 2 What is XSS?
    + 7 Try It! Reflected XSS
+ A8:2013 Request Forgeries:
    + Cross-Site Request Forgeries
        - 3 "Basic Get CSRF Exercise"
        - 4 "Post a review on someone else’s behalf".

###### h) Vapaaehtoinen bonus: ratkaise Vulhubista valitsemasi kone.
